module.exports=[39761,a=>{"use strict";a.s(["BarChart3",()=>b],39761);let b=(0,a.i(70106).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},53277,a=>{"use strict";a.s(["TrendingDown",()=>b],53277);let b=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},24669,a=>{"use strict";a.s(["TrendingUp",()=>b],24669);let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},52495,a=>{"use strict";a.s(["ExternalLink",()=>b],52495);let b=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},41710,a=>{"use strict";a.s(["Clock",()=>b],41710);let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},77156,a=>{"use strict";a.s(["Eye",()=>b],77156);let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},62722,a=>{"use strict";a.s(["XCircle",()=>b],62722);let b=(0,a.i(70106).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},41675,a=>{"use strict";a.s(["Calendar",()=>b],41675);let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},90545,48518,a=>{"use strict";a.s(["ThumbsUp",()=>c],90545);var b=a.i(70106);let c=(0,b.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);a.s(["ThumbsDown",()=>d],48518);let d=(0,b.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]])},91428,a=>{"use strict";a.s(["MesVotes",()=>t]);var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(86304),f=a.i(99570),g=a.i(53713),h=a.i(10849),i=a.i(90545),j=a.i(48518),k=a.i(41710),l=a.i(16201),m=a.i(62722),n=a.i(52495),o=a.i(41675),p=a.i(39761),q=a.i(24669),r=a.i(53277),s=a.i(77156);function t(){let{user:a}=(0,g.useAuth)(),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)("all");(0,c.useEffect)(()=>{a&&(B(),C())},[a]);let B=async()=>{if(a)try{let{data:b,error:c}=await h.supabase.from("votes").select(`
          *,
          politician:politicians(name, image_url, party, position)
        `).eq("user_id",a.id).order("created_at",{ascending:!1});if(c)return void console.error("Error loading votes:",c);u(b||[])}catch(a){console.error("Error:",a)}finally{y(!1)}},C=async()=>{if(a)try{let{data:b,error:c}=await h.supabase.from("user_vote_stats").select("*").eq("user_id",a.id).single();if(c&&"PGRST116"!==c.code)return void console.error("Error loading stats:",c);w(b||{total_votes:0,approved_votes:0,rejected_votes:0,pending_votes:0,approval_rate:0})}catch(a){console.error("Error:",a)}},D=t.filter(a=>"all"===z||a.status===z);return a?x?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement de vos votes..."})]}):(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#1E3A8A] mb-2",children:"Mes Votes"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Suivez l'état de vos contributions à la plateforme"})]}),v&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total des votes"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.total_votes})]}),(0,b.jsx)(p.BarChart3,{className:"w-8 h-8 text-[#1E3A8A]"})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approuvés"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:v.approved_votes})]}),(0,b.jsx)(q.TrendingUp,{className:"w-8 h-8 text-green-500"})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:v.pending_votes})]}),(0,b.jsx)(k.Clock,{className:"w-8 h-8 text-orange-500"})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Taux d'approbation"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-[#1E3A8A]",children:[v.approval_rate,"%"]})]}),(0,b.jsx)(r.TrendingDown,{className:"w-8 h-8 text-[#1E3A8A]"})]})})})]}),(0,b.jsx)("div",{className:"flex space-x-2 mb-6",children:[{key:"all",label:"Tous"},{key:"pending",label:"En attente"},{key:"approved",label:"Approuvés"},{key:"rejected",label:"Rejetés"}].map(a=>(0,b.jsx)(f.Button,{variant:z===a.key?"default":"outline",size:"sm",onClick:()=>A(a.key),children:a.label},a.key))}),0===D.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(s.Eye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"all"===z?"Aucun vote soumis":`Aucun vote ${z}`}),(0,b.jsx)("p",{className:"text-gray-600",children:"all"===z?"Commencez par voter sur un politicien pour voir vos contributions ici.":`Vous n'avez aucun vote ${z} pour le moment.`})]})}):(0,b.jsx)("div",{className:"space-y-6",children:D.map(a=>{var c,f;return(0,b.jsx)(d.Card,{className:"overflow-hidden",children:(0,b.jsxs)(d.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[a.politician?.image_url&&(0,b.jsx)("img",{src:a.politician.image_url,alt:a.politician.name,className:"w-12 h-12 rounded-full object-cover"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.politician?.name||"Politicien inconnu"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[a.politician?.position," • ",a.politician?.party]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(c=a.status,(0,b.jsxs)(e.Badge,{variant:"outline",className:{pending:"bg-orange-50 text-orange-700 border-orange-200",approved:"bg-green-50 text-green-700 border-green-200",rejected:"bg-red-50 text-red-700 border-red-200"}[c],children:[(a=>{switch(a){case"pending":return(0,b.jsx)(k.Clock,{className:"w-4 h-4 text-orange-500"});case"approved":return(0,b.jsx)(l.CheckCircle,{className:"w-4 h-4 text-green-500"});case"rejected":return(0,b.jsx)(m.XCircle,{className:"w-4 h-4 text-red-500"});default:return(0,b.jsx)(k.Clock,{className:"w-4 h-4 text-gray-500"})}})(c),(0,b.jsx)("span",{className:"ml-1",children:{pending:"En attente",approved:"Approuvé",rejected:"Rejeté"}[c]})]})),"positive"===a.vote_type?(0,b.jsx)(i.ThumbsUp,{className:"w-5 h-5 text-green-500"}):(0,b.jsx)(j.ThumbsDown,{className:"w-5 h-5 text-red-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catégorie"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:{integrity:"Intégrité",competence:"Compétence",transparency:"Transparence",consistency:"Cohérence",leadership:"Leadership",other:"Autre"}[f=a.category]||f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Impact"}),(0,b.jsxs)("p",{className:"text-sm text-gray-900",children:[a.points," points"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Type de preuve"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 capitalize",children:a.evidence_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Crédibilité source"}),(0,b.jsxs)("p",{className:"text-sm text-gray-900",children:[a.source_credibility,"/10"]})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Preuve soumise"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:a.evidence_title}),(0,b.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:a.evidence_description}),a.evidence_url&&(0,b.jsxs)("a",{href:a.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-[#1E3A8A] hover:underline",children:[(0,b.jsx)(n.ExternalLink,{className:"w-4 h-4 mr-1"}),"Voir la source"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,b.jsx)(o.Calendar,{className:"w-4 h-4 mr-1"}),"Soumis le ",new Date(a.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]}),"approved"===a.status&&(0,b.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["+","positive"===a.vote_type?a.points:`-${a.points}`," points crédibilité"]})]})]})},a.id)})})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Vous devez être connecté pour voir vos votes."})]})}}];

//# sourceMappingURL=_180608da._.js.map