(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},17923,e=>{"use strict";e.s(["BarChart3",()=>t],17923);let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},35408,e=>{"use strict";e.s(["TrendingDown",()=>t],35408);let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},25652,e=>{"use strict";e.s(["TrendingUp",()=>t],25652);let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},78917,e=>{"use strict";e.s(["ExternalLink",()=>t],78917);let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},73884,e=>{"use strict";e.s(["XCircle",()=>t],73884);let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},87316,e=>{"use strict";e.s(["Calendar",()=>t],87316);let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},417,65582,e=>{"use strict";e.s(["ThumbsUp",()=>s],417);var t=e.i(75254);let s=(0,t.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);e.s(["ThumbsDown",()=>a],65582);let a=(0,t.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]])},4307,e=>{"use strict";e.s(["MesVotes",()=>g]);var t=e.i(43476),s=e.i(71645),a=e.i(15288),r=e.i(87486),i=e.i(19455),l=e.i(26895),n=e.i(7471),c=e.i(417),d=e.i(65582),o=e.i(3116),m=e.i(69638),x=e.i(73884),p=e.i(78917),h=e.i(87316),u=e.i(17923),v=e.i(25652),y=e.i(35408),j=e.i(86536);function g(){let{user:e}=(0,l.useAuth)(),[g,f]=(0,s.useState)([]),[b,N]=(0,s.useState)(null),[k,C]=(0,s.useState)(!0),[w,_]=(0,s.useState)("all");(0,s.useEffect)(()=>{e&&(A(),M())},[e]);let A=async()=>{if(e)try{let{data:t,error:s}=await n.supabase.from("votes").select("\n          *,\n          politician:politicians(name, image_url, party, position)\n        ").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)return void console.error("Error loading votes:",s);f(t||[])}catch(e){console.error("Error:",e)}finally{C(!1)}},M=async()=>{if(e)try{let{data:t,error:s}=await n.supabase.from("user_vote_stats").select("*").eq("user_id",e.id).single();if(s&&"PGRST116"!==s.code)return void console.error("Error loading stats:",s);N(t||{total_votes:0,approved_votes:0,rejected_votes:0,pending_votes:0,approval_rate:0})}catch(e){console.error("Error:",e)}},E=g.filter(e=>"all"===w||e.status===w);return e?k?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement de vos votes..."})]}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#1E3A8A] mb-2",children:"Mes Votes"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Suivez l'état de vos contributions à la plateforme"})]}),b&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total des votes"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.total_votes})]}),(0,t.jsx)(u.BarChart3,{className:"w-8 h-8 text-[#1E3A8A]"})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approuvés"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:b.approved_votes})]}),(0,t.jsx)(v.TrendingUp,{className:"w-8 h-8 text-green-500"})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:b.pending_votes})]}),(0,t.jsx)(o.Clock,{className:"w-8 h-8 text-orange-500"})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Taux d'approbation"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-[#1E3A8A]",children:[b.approval_rate,"%"]})]}),(0,t.jsx)(y.TrendingDown,{className:"w-8 h-8 text-[#1E3A8A]"})]})})})]}),(0,t.jsx)("div",{className:"flex space-x-2 mb-6",children:[{key:"all",label:"Tous"},{key:"pending",label:"En attente"},{key:"approved",label:"Approuvés"},{key:"rejected",label:"Rejetés"}].map(e=>(0,t.jsx)(i.Button,{variant:w===e.key?"default":"outline",size:"sm",onClick:()=>_(e.key),children:e.label},e.key))}),0===E.length?(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(j.Eye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"all"===w?"Aucun vote soumis":"Aucun vote ".concat(w)}),(0,t.jsx)("p",{className:"text-gray-600",children:"all"===w?"Commencez par voter sur un politicien pour voir vos contributions ici.":"Vous n'avez aucun vote ".concat(w," pour le moment.")})]})}):(0,t.jsx)("div",{className:"space-y-6",children:E.map(e=>{var s,i,l,n,u,v;return(0,t.jsx)(a.Card,{className:"overflow-hidden",children:(0,t.jsxs)(a.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(null==(s=e.politician)?void 0:s.image_url)&&(0,t.jsx)("img",{src:e.politician.image_url,alt:e.politician.name,className:"w-12 h-12 rounded-full object-cover"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null==(i=e.politician)?void 0:i.name)||"Politicien inconnu"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[null==(l=e.politician)?void 0:l.position," • ",null==(n=e.politician)?void 0:n.party]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(u=e.status,(0,t.jsxs)(r.Badge,{variant:"outline",className:{pending:"bg-orange-50 text-orange-700 border-orange-200",approved:"bg-green-50 text-green-700 border-green-200",rejected:"bg-red-50 text-red-700 border-red-200"}[u],children:[(e=>{switch(e){case"pending":return(0,t.jsx)(o.Clock,{className:"w-4 h-4 text-orange-500"});case"approved":return(0,t.jsx)(m.CheckCircle,{className:"w-4 h-4 text-green-500"});case"rejected":return(0,t.jsx)(x.XCircle,{className:"w-4 h-4 text-red-500"});default:return(0,t.jsx)(o.Clock,{className:"w-4 h-4 text-gray-500"})}})(u),(0,t.jsx)("span",{className:"ml-1",children:{pending:"En attente",approved:"Approuvé",rejected:"Rejeté"}[u]})]})),"positive"===e.vote_type?(0,t.jsx)(c.ThumbsUp,{className:"w-5 h-5 text-green-500"}):(0,t.jsx)(d.ThumbsDown,{className:"w-5 h-5 text-red-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catégorie"}),(0,t.jsx)("p",{className:"text-sm text-gray-900",children:{integrity:"Intégrité",competence:"Compétence",transparency:"Transparence",consistency:"Cohérence",leadership:"Leadership",other:"Autre"}[v=e.category]||v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Impact"}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:[e.points," points"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Type de preuve"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 capitalize",children:e.evidence_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Crédibilité source"}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:[e.source_credibility,"/10"]})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Preuve soumise"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:e.evidence_title}),(0,t.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.evidence_description}),e.evidence_url&&(0,t.jsxs)("a",{href:e.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-[#1E3A8A] hover:underline",children:[(0,t.jsx)(p.ExternalLink,{className:"w-4 h-4 mr-1"}),"Voir la source"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)(h.Calendar,{className:"w-4 h-4 mr-1"}),"Soumis le ",new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]}),"approved"===e.status&&(0,t.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["+","positive"===e.vote_type?e.points:"-".concat(e.points)," points crédibilité"]})]})]})},e.id)})})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Vous devez être connecté pour voir vos votes."})]})}}]);